"use strict";var e=function(){var e=document.querySelector("[data-fixed-copyright]"),t=document.querySelector("[data-footer]");if(e&&t&&!(e.clientHeight<=0)){var n=e.getBoundingClientRect(),o=t.getBoundingClientRect();n.bottom-o.top>0?e.setAttribute("data-fixed-copyright","hide"):e.setAttribute("data-fixed-copyright","show")}},t=function(){window.pageYOffset>0?document.body.setAttribute("data-scrolled","true"):document.body.removeAttribute("data-scrolled");var e=document.querySelector("[data-menu-btn]"),t=document.querySelector("[data-footer]");e&&t&&(t.getBoundingClientRect().bottom-window.innerHeight-e.clientHeight<1?e.setAttribute("data-menu-btn-hide","true"):e.removeAttribute("data-menu-btn-hide"))},n=function(){return matchMedia("(min-width: 768px)").matches?"pc":"sp"},o=function(){if("sp"===n())return!1;window.pageYOffset>0?document.body.setAttribute("data-header-fixed","true"):document.body.removeAttribute("data-header-fixed")},r=function(){var e=document.querySelector("[data-header]");if(!e)return!1;var t=e.querySelector("[data-menu-btn]"),o=e.querySelector("#"+t.getAttribute("aria-controls")),r=function(e,t){e.setAttribute("aria-expanded","false"),e.setAttribute("data-menu-btn","close"),t?(document.body.setAttribute("data-menu","close"),o.setAttribute("hidden","hidden")):document.body.setAttribute("data-menu","fade-out");var n=Math.abs(parseInt(document.body.style.top,10));document.body.style.position="",document.body.style.top="",window.scrollTo(0,n)},i=function(){"true"!==t.getAttribute("aria-expanded")&&t.focus(),"fade-out"===document.body.getAttribute("data-menu")&&(document.body.setAttribute("data-menu","close"),o.setAttribute("hidden","hidden"))};window.addEventListener("resize",(function(){"pc"===n()&&"true"===t.getAttribute("aria-expanded")&&r(t,!0)}),!1),function(){o.addEventListener("webkitAnimationEnd",(function(){i()}),!1),o.addEventListener("animationend",(function(){i()}),!1),t.addEventListener("click",(function(e){e.preventDefault(),"open"!==document.body.getAttribute("data-menu")?function(e,t){e.setAttribute("aria-expanded","true"),e.setAttribute("data-menu-btn","open"),t.removeAttribute("hidden"),document.body.setAttribute("data-menu","open"),document.body.style.top=-1*window.pageYOffset+"px",document.body.style.position="fixed"}(t,o):r(t)}),!1),document.addEventListener("keydown",(function(e){27===e.keyCode&&"open"===document.body.getAttribute("data-menu")&&r(t)}),!1);var n=e.querySelectorAll("a"),d=t,a=n[n.length-1];a&&a.addEventListener("keydown",(function(e){9===e.keyCode&&"open"===document.body.getAttribute("data-menu")&&(e.shiftKey||(e.preventDefault(),d.focus()))}),!1),d&&d.addEventListener("keydown",(function(e){9===e.keyCode&&"open"===document.body.getAttribute("data-menu")&&e.shiftKey&&(e.preventDefault(),a.focus())}),!1)}()},i=function(){var e=document.querySelectorAll('[data-scroll-anim="ready"]'),t=e.length;if(t<1)return!1;var o=document.querySelector("[data-header]"),r=0;"pc"===n()&&(r=o.clientHeight);for(var i=function(e){for(var t=null,o=e.querySelectorAll("[data-scroll-anim-trigger]"),i=0,d=o.length;i<d;i++){var a=o[i].getAttribute("data-scroll-anim-trigger");if(a===n()||"all"===a){t=o[i];break}}t||(t=e);var u=t.getBoundingClientRect().bottom-window.innerHeight,c=u-r+window.innerHeight,s=0;e.getAttribute("data-scroll-anim-delay")&&(s=parseInt(e.getAttribute("data-scroll-anim-delay"),10)),(e.getAttribute("data-scroll-anim-fixed")||u<=0&&c>=0)&&(s>0?setTimeout((function(){e.setAttribute("data-scroll-anim","true")}),s):e.setAttribute("data-scroll-anim","true"))},d=0;d<t;d++)"true"!==e[d].getAttribute("data-scroll-anim")&&i(e[d])},d=function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px")},a=function(){var e=document.querySelectorAll("[data-share-btn]"),t=e.length,n=document.querySelector('meta[property="og:url"]');if(t<1||!n)return!1;for(var o=n.getAttribute("content"),r=function(e){var t=e.getAttribute("data-share-btn"),n="";"facebook"===t?(n="https://www.facebook.com/sharer/sharer.php?u="+o,e.setAttribute("href",n)):"twitter"===t&&(n="https://twitter.com/intent/tweet?url="+o,n+="&hashtags=再エネ",e.setAttribute("href",n)),e.addEventListener("click",(function(t){var n;t.preventDefault(),n=e,window.open(n.href,n.getAttribute("data-share-btn")+"-share","width=550, height=450, menubar=0, toolbar=0, scrollbars=yes, resizable=yes")}),!1)},i=0;i<t;i++)r(e[i])},u=function(){var e=document.querySelector("[data-footer]"),t=document.querySelector("[data-content]"),o=document.querySelector("[data-main]");if(!e||!t||!o)return!1;if("sp"===n())t.style.minHeight="unset",o.style.minHeight="unset";else{t.style.minHeight="0";var r=e.clientHeight+16;t.style.minHeight="calc(100vh - "+r+"px)",o.style.minHeight="calc(100vh - "+r+"px)"}};!function(){var n,c,s,l,m,f,b;r(),t(),o(),d(),u(),n=document,c=n.createElement("STYLE"),s="addEventListener"in n,l=function(e,t){s?n.addEventListener(e,t):n.attachEvent("on"+e,t)},m=function(e){c.styleSheet?c.styleSheet.cssText=e:c.innerHTML=e},n.getElementsByTagName("HEAD")[0].appendChild(c),l("mousedown",(function(){m(":focus{outline:0}::-moz-focus-inner{border:0;}")})),l("keydown",(function(){m("")})),f=new SmoothScroll('a[href*="#"]',{speed:800,speedAsDuration:!0,easing:"easeInOutCubic",ignore:"[data-scroll-ignore]",updateURL:!0,topOnEmptyHash:!1}),b=function(){f.cancelScroll()},window.addEventListener("DOMMouseScroll",b,!1),window.onmousewheel=document.onmousewheel=b,document.addEventListener("keydown",(function(e){37!==e.keyCode&&38!==e.keyCode&&39!==e.keyCode&&40!==e.keyCode&&27!==e.keyCode&&33!==e.keyCode&&34!==e.keyCode||f.cancelScroll()}),!1),a(),window.addEventListener("load",(function(){i(),e()}),!1);var y=!1;window.addEventListener("resize",(function(){!1!==y&&clearTimeout(y),y=setTimeout((function(){d(),u(),e()}),0)}),!1),window.addEventListener("orientationchange",(function(){d()}),!1),window.addEventListener("scroll",(function(){t(),e(),o(),i()}),!1)}();
